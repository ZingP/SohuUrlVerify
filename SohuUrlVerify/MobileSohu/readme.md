## 名称：手机搜狐网url可达性检测系统
## 作者：刘又源

## 1 需求
    请设计一个系统，自动完成对于手机搜狐(http://m.sohu.com/)系统可靠性的检测。具体要求：
    1. 递归检测所有m.sohu.com域名的页面以及这些页面上的链接的可达性，即有没有出现不可访问情况。
    2. m.sohu.com域名页面很多，从各个方面考虑性能优化。
    3. 对于错误的链接记录到日志中，日志包括：URL，时间，错误状态等。
    要求：不使用框架。 加分项：使用并发方式实现。

## 2 思考
   
   1. 页面的可达性即http状态码为200可视为可达，反之不可达并记录日志。可用requests模块；
   2. 可达的页面中找出所有有效的链接进行递归。
   3. 性能优化：
      对于IO操作多的并发可用多线程、协程、多进程+协程、多进程+多线程。
      原则上协程避免了多线程的无意义的调度，应首选多进程+协程；但本次主要采用多线程的方式，测试版本core/test.py 尝试了多进程+协程，但尚不成熟；正式版本还是用线程和线程池来实现并发。

## 3 文档结构
```
MobileSohu/
|-- bin/
|   |-- run.py   执行程序
|
|--conf/
|   |-- settings.py     配置文件
|
|-- core/               核心代码
|   |-- pool.py         线程池模块
|   |-- main.py         主程序
|   |-- test.py         测试模块
|
|--log/
|  |-- error.log        错误日志
|-- readme.md  
|
|-- process.jpg         流程图
```

## 4 流程图
![image](D:\py14\MobileSohu\process.jpg)

## 5 使用流程
    1. 环境：Windows10   python3.5.2
    2. 用python解释器运行MobileSohu/bin/run.py文件